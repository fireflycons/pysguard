set:
  dbhome: /var/lib/squid/db
  logdir: $(tmp)/pysguard               # Environment vars may be used in this section
  redirect: http://example.com

time:
  - name: afterwork
    constraints:
      - weekly * 17:00-23:59            # After work
      - weekly fridays 16:00-17:00      # On fridays we close earler
      - date   *.12.24 12:00-23:59      # Christmas Eve (every year)
      - date   2006.04.14-2006.04.17    # Easter 2006
      - date   2006.05.01               # May day 2006

sources:
  - name: admins
    ip:
      - 192.168.2.0-192.168.2.255
      - 172.16.12.0/24                  # May be CIDR or subnet/netmask
      - 10.5.3.1/28
  - name: users                         # User-based rules possible if Squid set up for authentication
    users: fred joe jim

destinations:
  - name: porn
    log: pornaccesses                   # Log requests to porn sites with identifier 'pornaccesses'
  - name: adv
  - name: warez

acl:
  - source: all                         # Built-in source 'all' means everybody
    within:
      time: afterwork
      pass: all                         # Built in destination 'all' matches any URL category
    else:
      pass: ~adv ~porn ~warez all
  - source: admins
    pass: all
  - source: default                     # Built-in source 'default' is a catch alll for no other sources matched
    pass: none                          # Built in destination 'none' matches no URL category
    redirect: https://google.co.uk
